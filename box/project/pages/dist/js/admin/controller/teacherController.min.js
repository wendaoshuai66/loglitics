function teacherController(e,t,a,r,d,o,n){e.data={},e.searchObj={},e.selectSearchIdList=["selectSearch","selectSearch2","selectSearch3"],e.controllerName="teacher",n.select2InitCountolerName="teacher",e.selectIdList=["select","select2","select3"],o.all([getPositionStatusData(e,t,a,r,d)]).then(function(){return getPositionSelectData(e,t,a,r,d)}).then(function(){return getSexTypeData(e,t,a,r,d)}).then(function(){return getCampusSelectData(e,t,a,r,d)}),e.columns=[{data:"id"},{data:"account"},{data:"name"},{data:"weChatOpenId"},{data:"sex"},{data:"teacher.department.campus.name"},{data:"teacher.department.name"},{data:"teacher.position.name"},{data:"tel"},{data:"status"},{data:"addDateTime"},{data:"updateDateTime"},{data:"lastLoginDateTime"},{data:"idCardNum"},{data:"approvalStatus"},{data:"approvalDateTime"}],e.orderableAry=[0],e.targetsOpt=16,e.wrapShortAry=[2,5,6,7],e.sexType=4,e.switchStatus=9,e.approvalStatus=14,e.order=[[10,"desc"]],e.optHtmlAry=["detail","edit","remove","resetPsw"];var c="getTeacherList";e.url=c,e.reloadUrl=c,e.initDataTablesName="teacherDataTable",dataTables.init(e,t,a,r,d),e.resetInputList=["account","name","tel","idCardNum"],e.addModal=function(){e.data={},e.resetErrorInput(e,t,a,r,d),e.modalTitle="添加教职人员信息",e.data.status="1",e.data.approvalStatus="1",e.data.sex="1",e.data.password="123456",e.data.confirmPassword="123456",e.triggerSelect(e,t,a,r,d),e.resetForm(e,t,a,r,d),e.addInfo=!0,$("#addModal").modal()},e.editModal=function(o){e.data=o,e.departmentId=o.teacher.department.id,e.getDepartmentList(function(){$.extend(!0,e.data.teacher.department,{id:e.departmentId})}),e.modalTitle="修改教职人员信息",e.triggerSelect(e,t,a,r,d),e.resetForm(e,t,a,r,d),e.addInfo=!1,$("#addModal").modal()},e.remove=function(){$("#removeModal").modal("hide"),e.addLoading(),e.url="deleteTeacher",e.optName="删除",e.params={id:e.removeId},e.postApi(e)},e.resetPsw=function(){$("#resetPswModal").modal("hide"),e.addLoading(),e.url="resetPswTeacher",e.optName="重置用户密码",e.params={id:e.resetPswId},e.postApiNoReload(e)},e.search=function(){e.searchInfo(e)},e.changeStatus=function(){$("#changeStatusModal").modal("hide"),e.addLoading(),e.url="changeTeacherStatus",e.optName="修改教职人员状态",e.params={statusType:e.changeStatusType,id:e.changeStatusId},e.postApi(e)},e.reset=function(){e.resetSearch(e,t,a,r,d)},e.getDepartmentList=function(c,i){e.selectParams={getAll:!1,ifLogistics:0,campusId:i?e.searchObj.teacher.department.campus.id:e.data.teacher.department.campus.id},o.all([getDepartmentSelectData(e,t,a,r,d)]).then(function(){n.getLevelListFromDepartment(e),c&&c()})},e.selectCampus=function(){e.getDepartmentList()},e.selectDepartment=function(){var t=angular.copy(e.departmentSelectData),a=e.data.teacher.department.campus.id;angular.forEach(t,function(t){t.id==e.data.teacher.department.id&&(e.data.teacher.department=t),null==e.data.teacher.department.id&&(e.data.teacher.department={})}),$.extend(!0,e.data.teacher.department,{campus:{id:a}})},e.selectPosition=function(){var t=angular.copy(e.positionSelectData);angular.forEach(t,function(t){t.id==e.data.teacher.position.id&&(e.data.teacher.position=t),null==e.data.teacher.position.id&&(e.data.teacher.position={})})}}function teacherAddController(e,t,a,r,d){e.save=function(){$("#addModal").modal("hide"),e.addLoading(),e.url="saveTeacher",void 0!==e.data.id?e.optName="修改":(e.dataRefresh=!0,e.optName="添加"),e.params={data:JSON.stringify(e.data)},e.postApi(e)},e.checkRepeat=function(){e.repeatName="工号",e.repeatUrl="checkRepeatAccount",e.checkRepeatName="account",e.checkRepeatApi(e)}}angular.module("MetronicApp").controller("teacherController",["$scope","$http","$compile","$location","$filter","$q","$rootScope",teacherController]),angular.module("MetronicApp").controller("teacherAddController",["$scope","$http","$compile","$location","$filter",teacherAddController]);
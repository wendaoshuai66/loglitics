function maintenanceRecordsController(e,a,n,t,i,r){e.data={},e.searchObj={},e.selectSearchIdList=["selectSearch"],e.selectIdList=["select"],e.controllerName="maintenanceRecords",e.searchInit=!0,datePickers.init(e,a,n,t,i),e.columns=[{data:"id"},{data:"maintenanceNumber"},{data:"maintenanceRecord.maintenanceArea.campus.name"},{data:"maintenanceRecord.maintenanceArea.name"},{data:"address"},{data:"maintenanceItemName"},{data:"maintenanceRecord.maintenanceCategory.maintenanceType.name"},{data:"maintenanceRecord.maintenanceCategory.name"},{data:"maintenanceContent"},{data:"repairStaff.name"},{data:"repairStaff.tel"},{data:"addDateTime"},{data:"repairMethod"},{data:"maintenanceStaff.name"},{data:"maintenanceStaff.tel"},{data:"maintenanceStartDateTime"},{data:"maintenanceEndDateTime"},{data:"maintenanceTime"},{data:"maintenanceRecord.maintenanceStatus.name"},{data:"maintenanceRecord.unableRepairReason"}],e.orderableAry=[0],e.wrapShortAry=[1,2,3,6,7,9],e.htmlType=[8],e.repairType=12,e.nullStr=[10,13,14],e.targetsOpt=20,e.order=[[11,"desc"]],e.optHtmlAry=["detail","assigned","print"];var d="getMaintenanceRecord";e.url=d,e.reloadUrl=d,e.initDataTablesName="maintenanceRecordsDataTable",dataTables.init(e,a,n,t,i),e.searchInit=!0,e.datetimepickerId=["addDateTime"],datePickers.init(e,a,n,t,i),e.remove=function(){$("#removeModal").modal("hide"),e.addLoading(),e.url="deleteDepartmentById",e.optName="删除",e.params={id:e.removeId},e.postApi(e)},e.assignedModal=function(d,c){c||(e.getScope("maintenanceRecordsAssigned").data={assignedWorker:{id:null}},e.triggerSelect(e,a,n,t,i),e.selectUrl="getUserListByRecord",e.selectParams={id:d},e.selectPara="assignedWorkerList",e.selectedAssignId=d,e.selectOptName="获取手动指派人员",r.all([e.getSelectInfoApi(e)]).then(function(){$("#assignedModal").modal()}))},e.search=function(){e.searchInfo(e)},e.reset=function(){e.resetSearch(e,a,n,t,i),e.resetDateTimePicker("addDateTimeEnd","addDateTimeStart")},e.maintenancePrint=function(e,a){if(!a){var n=portType+"://"+window.location.host+previewLocationSuffix+"#/viewMyRecord";window.open(n+"?id="+e)}}}function maintenanceRecordsAssignedController(e,a,n,t,i){e.assignedSave=function(){var a=e.selectedAssignId,n=e.data.assignedWorker.id;$("#assignedModal").modal("hide"),e.url="addMaintenanceRecordForUser",e.params={maintenanceId:a,userId:n},e.optName="手动指派维修人员",e.postApi(e)}}angular.module("MetronicApp").controller("maintenanceRecordsController",["$scope","$http","$compile","$location","$filter","$q",maintenanceRecordsController]),angular.module("MetronicApp").controller("maintenanceRecordsAssignedController",["$scope","$http","$compile","$location","$filter",maintenanceRecordsAssignedController]);
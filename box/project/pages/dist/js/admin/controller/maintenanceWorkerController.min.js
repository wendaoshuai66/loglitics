function maintenanceWorkerController(e,a,t,n,r,d,o){e.data={},e.searchObj={},e.selectSearchIdList=["selectSearch","selectSearch2","selectSearch3"],e.controllerName="maintenanceWorker",o.select2InitCountolerName="maintenanceWorker",e.selectIdList=["select","select2","select3"],d.all([getMaintenanceTypeSelectData(e,a,t,n,r)]).then(function(){return getSexTypeData(e,a,t,n,r)}).then(function(){return getPositionStatusData(e,a,t,n,r)}).then(function(){return getCampusSelectData(e,a,t,n,r)}),e.columns=[{data:"id"},{data:"account"},{data:"name"},{data:"weChatOpenId"},{data:"sex"},{data:"maintenanceWorker.department.campus.name"},{data:"maintenanceWorker.department.name"},{data:"maintenanceWorker.maintenanceType.name"},{data:"tel"},{data:"status"},{data:"addDateTime"},{data:"updateDateTime"},{data:"lastLoginDateTime"},{data:"idCardNum"},{data:"approvalStatus"},{data:"approvalDateTime"}],e.orderableAry=[0],e.targetsOpt=16,e.wrapShortAry=[2,5,6,7],e.sexType=4,e.switchStatus=9,e.approvalStatus=14,e.order=[[10,"desc"]],e.optHtmlAry=["detail","edit","remove","resetPsw"];var c="getMaintenanceWorkerList";e.url=c,e.reloadUrl=c,e.initDataTablesName="maintenanceWorkerDataTable",dataTables.init(e,a,t,n,r),e.resetInputList=["account","name","tel","idCardNum"],e.addModal=function(){e.data={},e.resetErrorInput(e,a,t,n,r),e.modalTitle="添加维修人员信息",e.data.status="1",e.data.approvalStatus="1",e.data.sex="1",e.data.password="123456",e.data.confirmPassword="123456",e.triggerSelect(e,a,t,n,r),e.resetForm(e,a,t,n,r),e.addInfo=!0,$("#addModal").modal()},e.editModal=function(d){e.data=d,e.departmentId=d.maintenanceWorker.department.id,e.getDepartmentList(function(){$.extend(!0,e.data.maintenanceWorker.department,{id:e.departmentId})}),e.modalTitle="修改维修人员信息",e.triggerSelect(e,a,t,n,r),e.resetForm(e,a,t,n,r),e.addInfo=!1,$("#addModal").modal()},e.remove=function(){$("#removeModal").modal("hide"),e.addLoading(),e.url="deleteMaintenanceWorker",e.optName="删除",e.params={id:e.removeId},e.postApi(e)},e.search=function(){e.searchInfo(e)},e.changeStatus=function(){$("#changeStatusModal").modal("hide"),e.addLoading(),e.url="changeMaintenanceWorkerStatus",e.optName="修改维修人员状态",e.params={statusType:e.changeStatusType,id:e.changeStatusId},e.postApi(e)},e.resetPsw=function(){$("#resetPswModal").modal("hide"),e.addLoading(),e.url="resetPswMaintenance",e.optName="重置用户密码",e.params={id:e.resetPswId},e.postApiNoReload(e)},e.reset=function(){e.resetSearch(e,a,t,n,r)},e.getDepartmentList=function(c,i){e.selectParams={getAll:!1,ifLogistics:1,campusId:i?e.searchObj.maintenanceWorker.department.campus.id:e.data.maintenanceWorker.department.campus.id},d.all([getDepartmentSelectData(e,a,t,n,r)]).then(function(){o.getLevelListFromDepartment(e),c&&c()})},e.selectCampus=function(){e.getDepartmentList()},e.selectDepartment=function(){var a=angular.copy(e.departmentSelectData),t=e.data.maintenanceWorker.department.campus.id;angular.forEach(a,function(a){a.id==e.data.maintenanceWorker.department.id&&(e.data.maintenanceWorker.department=a),null==e.data.maintenanceWorker.department.id&&(e.data.maintenanceWorker.department={})}),$.extend(!0,e.data.maintenanceWorker.department,{campus:{id:t}})},e.selectMaintenanceType=function(){var a=angular.copy(e.maintenanceTypeSelectData);angular.forEach(a,function(a){a.id==e.data.maintenanceWorker.maintenanceType.id&&(e.data.maintenanceWorker.maintenanceType=a),null==e.data.maintenanceWorker.maintenanceType.id&&(e.data.maintenanceWorker.maintenanceType={})})}}function maintenanceWorkerAddController(e,a,t,n,r){e.save=function(){$("#addModal").modal("hide"),e.addLoading(),e.url="saveMaintenanceWorker",void 0!==e.data.id?e.optName="修改":(e.dataRefresh=!0,e.optName="添加"),e.params={data:JSON.stringify(e.data)},e.postApi(e)},e.checkRepeat=function(){e.repeatName="工号",e.repeatUrl="checkRepeatAccount",e.checkRepeatName="account",e.checkRepeatApi(e)}}angular.module("MetronicApp").controller("maintenanceWorkerController",["$scope","$http","$compile","$location","$filter","$q","$rootScope",maintenanceWorkerController]),angular.module("MetronicApp").controller("maintenanceWorkerAddController",["$scope","$http","$compile","$location","$filter",maintenanceWorkerAddController]);
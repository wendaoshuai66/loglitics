function myLostFoundController(a,t,e,o,l,d,n,s,i){var r;null===n.type?r=a.getControllerPageId("lostFoundType"):(r=n.type,a.setControllerPageId("lostFoundType",r)),a.data={},a.searchObj={},a.controllerName="myLostFound",a.columns=[{data:"id"},{data:"title"},{data:"addDateTime"},{data:"approvalStatus"},{data:"dealStatus"}],a.orderableAry=[0,1,3,4],a.viewLostFoundAry=[1],a.approvalStatus=3,a.dealStatus=4,a.targetsOpt=5,a.optHtmlAry=["remove"],a.order=[[2,"desc"]];var u="getLostFoundList";a.url=u,a.reloadUrl=u,a.initDataTablesName="myLostFoundDataTable",a.searchInit=!0,a.searchObj.type=r,a.searchObj.person={id:a.loginUser.id},a.dataTableInit={},dataTables.init(a,t,e,o,l),a.remove=function(){$("#removeModal").modal("hide"),a.addLoading(),a.url="deleteLostFound",a.optName="删除",a.params={id:a.removeId},a.postApi(a,function(){a.url="getLostFoundList",a.reloadUrl="getLostFoundList",$("#"+a.initDataTablesName).DataTable().ajax.reload(function(){},!1)})},a.changeStatus=function(){$("#changeStatusModal").modal("hide"),a.addLoading(),a.url="changeLostFoundStatus",a.optName="修改状态",a.params={statusType:a.changeStatusType,id:a.changeStatusId},a.postApi(a,function(){a.url="getLostFoundList",a.reloadUrl="getLostFoundList",$("#"+a.initDataTablesName).DataTable().ajax.reload(function(){},!1)})},a.changeTab=function(d){1===d||"1"===d?(a.searchObj.type=1,$("#"+a.initDataTablesName).DataTable().ajax.reload(function(){},!1)):(a.tableName="dataTable1",a.searchInit=!0,a.searchObj.type=0,a.dataTableInit[a.tableName]?$("#"+a.initDataTablesName).DataTable().ajax.reload(function(){},!1):dataTables.init(a,t,e,o,l))}}function lostFoundAddController(a,t,e,o,l,d,n,s,i){a.uploadSuccessImgUrl=[],a.thisPageAddImgCount=0,a.uploadTypeOnlyImg=!0,a.maxImg=uploadImgMaxCount,Upload.init(a,d),getLostFoundStatusData(a,t,e,o,l),a.data={},ComponentsBootstrapMaxlength.init();var r;n.id&&(r=n.id),a.data={},a.params={id:r},r?getViewData(a,t,e,o,l):null===n.type?a.data.type=a.getControllerPageId("lostFoundType"):(a.data.type=n.type,a.setControllerPageId("lostFoundType",a.data.type)),a.save=function(){a.addLoading(),a.url="/saveLostFoundFromWeChat",a.data.person={id:a.loginUser.id},a.optName="保存";var t=a.unEmptyList(a.uploadSuccessImgUrl);a.data.fileUrls=t.join(","),a.params={data:JSON.stringify(a.data)},a.stateNewPage=!1,a.initDataTablesName="myLostFoundDataTable",s.all([a.postApi(a)]).then(function(){a.data.type?i.go("myLostList",{type:a.data.type}):i.go("myFoundList",{type:a.data.type})})}}function lostFoundViewController(a,t,e,o,l,d,n,s,i){var r;n.id&&(r=n.id),a.url="updateLostFoundViewTimesById",a.params={id:r},a.slideImageWidth=slideImageWidth,a.slideImageHeight=slideImageHeight,t({method:"POST",url:a.httpDomain+a.url,data:a.params}).success(function(a){}),getViewData(a,t,e,o,l),a.changeStatus=function(){var t;t="1"===a.data.dealStatus?"0":"1",a.data.dealStatus=t,$("#changeStatusModal").modal("hide"),a.url="changeLostFoundStatus",a.optName="修改状态",a.params={statusType:"dealStatus",id:r},a.postApi(a,function(){a.url="getLostFoundList",a.reloadUrl="getLostFoundList",$("#"+a.initDataTablesName).DataTable().ajax.reload(function(){},!1)})},a.showModule=function(){$("#changeStatusModal").modal()}}function getViewData(a,t,e,o,l){a.url="getLostFoundById",a.ifAuthorSelf=!1,t({method:"POST",url:a.httpDomain+a.url,data:a.params}).success(function(t){a.data=t.data;var e;t.data&&t.data.imgUrls&&t.data.imgUrls.uploadFileUrl&&(e=t.data.imgUrls.uploadFileUrl.split(",")),e&&(a.data.urls=e),a.loginUser&&a.loginUser.id&&a.data&&a.data.person&&a.loginUser.id==a.data.person.id&&(a.ifAuthorSelf=!0)})}angular.module("MetronicApp").controller("myLostFoundController",["$scope","$http","$compile","$location","$filter","$timeout","$stateParams","$q","$state",myLostFoundController]),angular.module("MetronicApp").controller("lostFoundAddController",["$scope","$http","$compile","$location","$filter","$timeout","$stateParams","$q","$state",lostFoundAddController]),angular.module("MetronicApp").controller("lostFoundViewController",["$scope","$http","$compile","$location","$filter","$timeout","$stateParams","$q","$state",lostFoundViewController]);
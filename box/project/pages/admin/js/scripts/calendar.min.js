var calendar=function(){var t=function(){var t=new Date;t.getDate(),t.getMonth(),t.getFullYear();$("#calendar").fullCalendar({lang:"zh-cn",header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},weekends:!0,events:function(t,e,a,n){var r=this.getDate().format("YYYY-MM");$.ajax({url:"demo/duty.json",dataType:"json",data:{date:r},success:function(t){var e=[];$.each(t.data,function(t,a){e.push({title:a.title,start:a.start,end:a.end,color:a.color,id:a.id})}),n(e)}})},dayClick:function(t,e,a){var n=$("#calendar").fullCalendar("clientEvents",function(e){var a=e.start.format("YYYY-MM-DD"),n=e.end?e.end.format("YYYY-MM-DD"):null,r=t.format("YYYY-MM-DD");return a<=r&&n>=r&&!(a<r&&n==r)||a==r&&null===n});console.log(n)},eventClick:function(t,e,a){var n=t.start.format("YYYY-MM-DD HH:mm:ss"),r=t.end.format("YYYY-MM-DD HH:mm:ss"),l=t.title,o=t.id;console.log({startTime:n,endTime:r,title:l,id:o})}})};return{init:function(){t()}}}();
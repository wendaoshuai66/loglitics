angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){"use strict";return["$document","$window","$compile","$rootScope","$timeout",function($document,$window,$compile,$rootScope,$timeout){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=$rootScope.$new(),this.color="firebrick",this.parent=$document.find("body")[0],this.count=0,this.progressbarEl=$compile("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var self=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(self.count)?(clearInterval(self.intervalCounterId),self.count=0,self.hide()):(self.remaining=100-self.count,self.count=self.count+.15*Math.pow(1-Math.sqrt(self.remaining),2),self.updateCount(self.count))},200)},this.updateCount=function(new_count){this.$scope.count=new_count,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(new_height){return void 0!==new_height&&(this.height=new_height,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(new_color){return void 0!==new_color&&(this.color=new_color,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var self=this;self.animate(function(){self.progressbarEl.children().css("width","0%"),self.animate(function(){self.show()},500)},500)},this.show=function(){var self=this;self.animate(function(){self.progressbarEl.children().css("opacity","1")},100)},this.removeAll=function(){var self=this;null!==self.parent&&void 0!==self.parent&&self.parent.removeChild(this.progressbarEl)},this.animate=function(fn,time){void 0!==this.animation&&$timeout.cancel(this.animation),this.animation=$timeout(fn,time)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(new_count){return this.show(),this.updateCount(new_count),this.count=new_count,clearInterval(this.intervalCounterId),this.count},this.css=function(args){return this.progressbarEl.children().css(args)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var self=this;return clearInterval(this.intervalCounterId),$timeout(function(){self.hide(),$timeout(function(){self.count=0,self.updateCount(self.count)},500)},1e3),this.count},this.setParent=function(newParent){if(null===newParent||void 0===newParent)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=newParent,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function($injector,ngProgress){return{createInstance:function(){return $injector.instantiate(ngProgress)}}}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function($window,$rootScope){return{replace:!0,restrict:"E",link:function($scope,$element,$attrs,$controller){$scope.$watch("count",function(newVal){void 0===newVal&&null===newVal||($scope.counter=newVal,$element.eq(0).children().css("width",newVal+"%"))}),$scope.$watch("color",function(newVal){void 0===newVal&&null===newVal||($scope.color=newVal,$element.eq(0).children().css("background-color",newVal),$element.eq(0).children().css("color",newVal))}),$scope.$watch("height",function(newVal){void 0===newVal&&null===newVal||($scope.height=newVal,$element.eq(0).children().css("height",newVal))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'}}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"]);